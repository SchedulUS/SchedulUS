<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ca.usherbrooke.gegi.server.persistence.ActiviteMapper">

    <select id="getActivite" resultType="ca.usherbrooke.gegi.server.business.Activite">
        SELECT activite.activite_id as  activiteId, activite.nom as activiteNom,activite.periode as activitePeriode, app.app_id as appId, app.nom as appNom, app.cours as appCours, type_activite.type_id as typeId, type_activite.nom as typeNom FROM activite
        INNER JOIN type_activite ON type_activite.type_id = activite.type_id
        INNER JOIN app ON app.app_id = activite.app_id
        WHERE app.app_id = #{appID} and type_activite.type_id = #{typeID}
        ORDER BY activiteNom,activite.periode ASC;
    </select>
</mapper>
